<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <h:body>

        <!-- Fixed navbar -->
        <header class="navbar navbar-default navbar-fixed-top" role="navigation">

            <div class="container">
                <div class="navbar-header">
                    <h:form>
                        <h:commandLink value="#{i18n.ApplicationName}" action='#{pageBean.switchPage("HOME")}' class="navbar-brand" />
                    </h:form>
                </div>

                <div class="collapse navbar-collapse">

                    <h:form>
                        <ul class="nav navbar-nav">
                            <li class='#{pageBean.page.home ? "active" : null}'>
                                <h:commandLink value="#{i18n.Home}" action='#{pageBean.switchPage("HOME")}' />
                            </li>
                            <li class='#{pageBean.page.clickAndBrew ? "active" : null}'>
                                <h:commandLink value="#{i18n.ClickAndBrew}" action='#{pageBean.switchPage("CLICK_AND_BREW")}' rendered="#{not empty loginBean.session}" />
                            </li>
                            <li class='#{pageBean.page.myBrew ? "active" : null}'>
                                <h:commandLink value="#{i18n.MyBrew}" action='#{pageBean.switchPage("MY_BREW")}' rendered="#{not empty loginBean.session}" />
                            </li>
                            <li class='#{pageBean.page.about ? "active" : null}'>
                                <h:commandLink value="#{i18n.About}" action='#{pageBean.switchPage("ABOUT")}' />
                            </li>
                        </ul>
                    </h:form>

                    <p:outputPanel rendered="#{empty loginBean.session}">

                        <h:form class="navbar-form navbar-right" role="form">
                            <div class="form-group">
                                <p:inputText value="#{loginBean.username}" placeholder="#{i18n.Email}" class="form-control" />
                            </div>
                            <div class="form-group">
                                <p:password value="#{loginBean.password}" placeholder="#{i18n.Password}" class="form-control" />
                            </div>
                            <div class="form-group">
                                <h:commandButton value="#{i18n.SignIn}" action="#{loginBean.login()}" class="btn btn-success" />
                            </div>
                        </h:form>

                    </p:outputPanel>

                    <p:outputPanel rendered="#{not empty loginBean.session}">

                        <h:form>
                            <div class="collapse navbar-collapse">
                                <ul class="nav navbar-nav navbar-right">
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">#{loginBean.session.user.username} <b class="caret"></b></a>
                                        <ul class="dropdown-menu">
                                            <li><h:commandLink value="#{i18n.Profile}" action='#{pageBean.switchPage("PROFILE")}' /></li>
                                            <li class="divider"></li>
                                            <li><h:commandLink value="#{i18n.Logout}" action="#{loginBean.logout()}" /></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </h:form>

                    </p:outputPanel>
                </div><!--/.nav-collapse -->
            </div>
        </header>

    </h:body>

</html>